<div class="container mt-5">
  <div *ngIf="movie" class="row">
    <div class="col-md-4">
      <img class="img-fluid rounded" [src]="'https://image.tmdb.org/t/p/w500' + movie.poster_path" alt="{{ movie.title }}">
    </div>

    <div class="col-md-8">
        <h1>{{ movie.title }}</h1>
        <p><strong>Date de sortie :</strong> {{ movie.release_date }}</p>
        <p><strong>Genres :</strong> {{ getGenres() }}</p>
        <p><strong>Durée :</strong> {{ movie.runtime }} min</p>
        <p><strong>Note :</strong> ⭐ {{ movie.vote_average }} / 10</p>
        <p>{{ movie.overview }}</p>
      
        <div class="mt-3">
          <button class="btn border me-2" (click)="addToFavorites()">❤️ Ajouter aux favoris</button>
          <button class="btn btn me-2" (click)="addToWatchlist()">🕒 Ajouter à la Watchlist</button>
          <div class="mt-3">
            <h5>Noter ce film :</h5>
            <div class="btn-group">
              <button *ngFor="let star of [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]" 
                      class="btn btn-outline-primary"
                      (click)="rateMovie(star)">
                {{ star }} ⭐
              </button>
            </div>
          </div>
          


          <div class="dropdown d-inline">
            <button class="btn btn-warning dropdown-toggle" type="button" id="customListDropdown" data-bs-toggle="dropdown" aria-expanded="false">
              📂 Ajouter à une liste
            </button>
            <ul class="dropdown-menu" aria-labelledby="customListDropdown">
              <li *ngFor="let list of userLists">
                <a class="dropdown-item" (click)="addToCustomList(list.id)">{{ list.name }}</a>
              </li>
            </ul>
          </div>
        </div>
  
      <a class="btn btn-primary mt-3" routerLink="/">Retour
